# PSQL scripts for data processing

1. Рекурсия.

Дано: Файл с данными t_dicService.txt
Необходимо: на любом из диалектов SQL перебрать значения от объектов, что не имеют родителей (sParentCode  = NULL) до самых дальних потомков.
Результат должен быть представлен в виде 3х столбцов.
Столбец1. Scode, что не имеет потомков.
Столбец 2. Вся цепочка  с разделителем  через символ  «|» от родителя к потомкам
Столбец 3. sDescription последнего кода в цепочке.

Пример результата:
Scode	ChainScode	sDescription
!!AMIS_BASE_APP	!!BASE|!ARCH|AMIS_BASE_APP	Метаданные прикладных сервисов
!!AMIS_OLAP_APP	!!BASE|!ARCH|AMIS_OLAP_APP	OLAP-кубы и SMP-витрины прикладных сервисов


2. UTF8 / WIN1251 fight

Дано:
данные t_jira_jiraissue_202206150813.sql в формате UTF-8.

Необходимо:
0. На  PostgreSQL используя только pgSQL
1. Создать таблицу приемник  с 2 полями (varchar(255), numeric(38)), загрузить данные.
2. Конвертировать значения столбца varchar(255) из UTF-8 в Win1251. Символы, что отсутствуют в Win1251 удалить.

Проверка будет осуществляться встроенной функцией Convert_to (название_столбца, «WIN1251»)